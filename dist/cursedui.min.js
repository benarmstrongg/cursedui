const e = window, n = {}, r = {}; function t() { for (const t in n) if (t in e && t in r && e[t] !== r[t]) { const o = n[t]; r[t] = e[t], o.rerender() } requestAnimationFrame(t) } e.cre = document.body, e.component = t => { const o = document.createElement(t.name || "component"), c = e.cre !== document.body; e.cre.append(o), e.cre = o, o.id = Math.ceil(1e5 * Math.random()); let d = o, m = o, i = 0, s = 0; n[o.id] = []; const a = Object.keys(e); t((function e(n, r) { const t = document.createElement(n); return i++, t.render = () => e(n, r), i > s ? (d.append(t), d = t) : i === s && (d = m.parentElement, d.append(t)), s = i, m = t, r(t), i--, 0 === i && (s = 0, m = o, d = o), t })); const u = Object.keys(e).filter((e => !a.includes(e))); for (const t of u) n[t] || (n[t] = o, n[o.id].push(t), r[t] = e[t]); o.rerender = () => { c && !document.getElementById(o.id) && e.cre.append(o); const n = [...o.children || []]; e.cre = o; for (const e of n) e.render ? (e.remove(), e.render()) : e.rerender && (e.remove(), e.rerender()); e.cre = document.body }, e.cre = document.body }, requestAnimationFrame(t);
