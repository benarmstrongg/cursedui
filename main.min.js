const e=window,n={},r={};function o(){for(const o in n)if(o in e&&o in r&&e[o]!==r[o]){const t=n[o];r[o]=e[o],t.rerender()}requestAnimationFrame(o)}e.cre=document.body,e.component=o=>{const t=document.createElement(o.name||"component"),c=e.cre!==document.body;e.cre.append(t),e.cre=t,t.id=Math.ceil(1e5*Math.random()),t.isComponent=!0;let d=t,i=t,m=0,s=0;n[t.id]=[];const a=Object.keys(e);o((function e(n,r){const o=document.createElement(n);return m++,o.render=()=>e(n,r),m>s?(d.append(o),d=o):m===s&&(d=i.parentElement,d.append(o)),s=m,i=o,r(o),m--,0===m&&(s=0,i=t,d=t),o}));const u=Object.keys(e).filter((e=>!a.includes(e)));for(const o of u)n[o]||(n[o]=t,n[t.id].push(o),r[o]=e[o]);t.rerender=()=>{c&&!document.getElementById(t.id)&&e.cre.append(t);const o=[...t.children||[]];e.cre=t;for(const e of o)e.render?(e.remove(),e.render()):e.rerender&&(e.remove(),e.rerender());if(c)for(const o of n[t.id])e[o]=r[o];e.cre=document.body},e.cre=document.body},requestAnimationFrame(o);
